# FPL AI Optimizer - Environment Variables Example
# Copy this file to .env and update with your actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite (fallback)
DATABASE_PATH=backend/data/fpl_data.db

# PostgreSQL (primary)
USE_POSTGRES=true
POSTGRES_CONNECTION_STRING=postgresql://postgres:your_password@localhost:5432/myfpl

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

REDIS_URL=redis://localhost:6379/0
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_METRICS_ENABLED=true

# =============================================================================
# API CONFIGURATION
# =============================================================================

API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
API_LOG_LEVEL=info

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# FPL API
# =============================================================================

FPL_REQUEST_TIMEOUT=30
FPL_RATE_LIMIT=1.0

# =============================================================================
# ODDS API (Optional - for bookmaker odds)
# =============================================================================

ODDS_API_KEY=your_odds_api_key_here
ODDS_API_BASE_URL=https://api.the-odds-api.com/v4
ODDS_API_REGION=uk
ODDS_API_MARKETS=team_totals,totals
ODDS_API_BOOKMAKERS=betfair,betonlineag

# =============================================================================
# PHASE 2: xG INTEGRATION & ADVANCED FEATURES
# =============================================================================

# xG Data Sources
FBREF_ENABLED=true
FOTMOB_ENABLED=false
XG_FALLBACK_TO_ESTIMATION=true

# Advanced Features
ENABLE_ADVANCED_FEATURES=true
ENABLE_DYNAMIC_FDR=true
AVAILABILITY_FILTER_MODE=conservative  # conservative, balanced, aggressive

# =============================================================================
# PHASE 3: CELERY BACKGROUND JOBS
# =============================================================================

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_WORKERS=4
CELERY_TASK_TIME_LIMIT=3600

# =============================================================================
# OR-TOOLS OPTIMIZATION
# =============================================================================

ORTOOLS_NUM_WORKERS=8  # Number of CPU cores to use
ORTOOLS_TIME_LIMIT=30.0  # Maximum solve time in seconds
ORTOOLS_MIP_GAP=0.01  # 1% optimality gap
ORTOOLS_LOG_PROGRESS=false

# =============================================================================
# MANAGER INDEX (Optional - for manager search)
# =============================================================================

MANAGER_INDEX_ENABLED=true
CRAWLER_BATCH_SIZE=100
CRAWLER_RATE_LIMIT=0.3
CRAWLER_MAX_WORKERS=12
CRAWLER_HEARTBEAT_INTERVAL=1000

# Seed leagues for manager index (comma-separated IDs)
MANAGER_SEED_LEAGUES=131,358346,1635092,1319382,530215,101748
MANAGER_ON_DEMAND_TTL_MINUTES=60
MANAGER_SEED_REFRESH_HOURS=6

# =============================================================================
# MACHINE LEARNING
# =============================================================================

ML_TRAIN_TEST_SPLIT=0.2
ML_RANDOM_STATE=42
ML_N_ESTIMATORS=200
ML_LEARNING_RATE=0.1
ML_MAX_DEPTH=6

# =============================================================================
# LOGGING
# =============================================================================

LOG_LEVEL=INFO
